<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Convert playlist to editry clips — ov_editry_clips • ovideo</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Convert playlist to editry clips — ov_editry_clips"><meta property="og:description" content="Note that in order to use ov_editry_clips, the editry package must be installed, along with editly (which is the underlying node JS package: see editry::er_install_editly()). editry::er_install_editly() will also attempt to install the system binaries for node and ffmpeg if needed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ovideo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.17.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/openvolley/ovideo/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert playlist to editry clips</h1>
    <small class="dont-index">Source: <a href="https://github.com/openvolley/ovideo/blob/HEAD/R/editry.R" class="external-link"><code>R/editry.R</code></a></small>
    <div class="hidden name"><code>ov_editry_clips.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Note that in order to use <code>ov_editry_clips</code>, the <code>editry</code> package must be installed, along with <code>editly</code> (which is the underlying node JS package: see <code><a href="https://rdrr.io/pkg/editry/man/er_install_editly.html" class="external-link">editry::er_install_editly()</a></code>). <code><a href="https://rdrr.io/pkg/editry/man/er_install_editly.html" class="external-link">editry::er_install_editly()</a></code> will also attempt to install the system binaries for <code>node</code> and <code>ffmpeg</code> if needed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ov_editry_clips</span><span class="op">(</span>
  <span class="va">playlist</span>,
  title <span class="op">=</span> <span class="cn">NULL</span>,
  title2 <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">label_col</span>,
  pause <span class="op">=</span> <span class="cn">TRUE</span>,
  seamless <span class="op">=</span> <span class="cn">FALSE</span>,
  title_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  title2_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  pause_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>playlist</dt>
<dd><p>data.frame: a playlist as returned by <code>ov_video_playlist</code>. Note that only local video sources are supported</p></dd>
<dt>title</dt>
<dd><p>string: the title text (first slide). Use <code>NULL</code> to skip this slide</p></dd>
<dt>title2</dt>
<dd><p>string: the second title text (on the second slide). Use <code>NULL</code> to skip this slide</p></dd>
<dt>label_col</dt>
<dd><p>string: the name of the column in <code>playlist</code> to use for a label on each clip (created with <code><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">editry::er_layer_news_title()</a></code>). Common label choices are player names, scores, or descriptions of the play being shown in the clip</p></dd>
<dt>pause</dt>
<dd><p>logical: if <code>TRUE</code>, insert an <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_pause()</a></code> clip at the end of the sequence</p></dd>
<dt>seamless</dt>
<dd><p>logical: if <code>TRUE</code>, combine overlapping/adjacent clips. Note that if a <code>label_col</code> has been specified, the label from the first clip will be used for the whole of the combined clip (so it may no longer make sense, for example if the label is the player name)</p></dd>
<dt>title_args</dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_title_background()</a></code> when creating the title slide</p></dd>
<dt>title2_args</dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_title2()</a></code> when creating the title2 slide</p></dd>
<dt>pause_args</dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_pause()</a></code> when creating the final slide</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of <code><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">editry::er_clip()</a></code> objects, suitable to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">editry::er_spec()</a></code></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">editry::er_layer_news_title()</a></code>, <code><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">editry::er_layer()</a></code>, <code><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">editry::er_spec()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="co">## Example 1</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## Step 1: create our playlist</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## use data from the ovdata package</span></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ovdata</span><span class="op">)</span> <span class="co">## install via remotes::install_github("openvolley/ovdata") if needed</span></span>
<span class="r-in">  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ovdata/man/ovdata_example.html" class="external-link">ovdata_example</a></span><span class="op">(</span><span class="st">"190301_kats_beds-clip"</span>, as <span class="op">=</span> <span class="st">"parsed"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## make sure its video element points to our local copy of the corresponding video clip</span></span>
<span class="r-in">  <span class="fu"><a href="dv_meta_video.html">dv_meta_video</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ovdata/man/ovdata_example_video.html" class="external-link">ovdata_example_video</a></span><span class="op">(</span><span class="st">"190301_kats_beds"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## extract the plays</span></span>
<span class="r-in">  <span class="va">px</span> <span class="op">&lt;-</span> <span class="fu">datavolley</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/datavolley/man/plays.html" class="external-link">plays</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span class="r-in">  <span class="co">## use just the attack rows</span></span>
<span class="r-in">  <span class="va">px</span> <span class="op">&lt;-</span> <span class="va">px</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">px</span><span class="op">$</span><span class="va">skill</span> <span class="op">==</span> <span class="st">"Attack"</span><span class="op">)</span>, <span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## make a new column with player name and attack type</span></span>
<span class="r-in">  <span class="va">px</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">px</span><span class="op">$</span><span class="va">player_name</span>, <span class="va">px</span><span class="op">$</span><span class="va">attack_code</span>, <span class="st">"attack"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## make the playlist with the new label column included</span></span>
<span class="r-in">  <span class="va">tm</span> <span class="op">&lt;-</span> <span class="fu"><a href="ov_video_timing.html">ov_video_timing</a></span><span class="op">(</span>Attack <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="co">## tighter than normal timing</span></span>
<span class="r-in">  <span class="va">ply</span> <span class="op">&lt;-</span> <span class="fu"><a href="ov_video_playlist.html">ov_video_playlist</a></span><span class="op">(</span><span class="va">px</span>, <span class="va">x</span><span class="op">$</span><span class="va">meta</span>, extra_cols <span class="op">=</span> <span class="st">"label"</span>, timing <span class="op">=</span> <span class="va">tm</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## Step 2: convert to editly clip objects and compile to mp4</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceuntangled/editry" class="external-link">editry</a></span><span class="op">)</span></span>
<span class="r-in">  <span class="co">## create the clips, one for each row of the playlist</span></span>
<span class="r-in">  <span class="va">clips</span> <span class="op">&lt;-</span> <span class="fu">ov_editry_clips</span><span class="op">(</span><span class="va">ply</span>, title <span class="op">=</span> <span class="st">"GKS Katowice\nvs\nMKS Bedzin"</span>,</span>
<span class="r-in">                                title2 <span class="op">=</span> <span class="st">"Attacks"</span>, label_col <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## compile to video</span></span>
<span class="r-in">  <span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".mp4"</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">my_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">er_spec</a></span><span class="op">(</span>out_path <span class="op">=</span> <span class="va">outfile</span>, clips <span class="op">=</span> <span class="va">clips</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_exec_wait.html" class="external-link">er_exec_wait</a></span><span class="op">(</span>spec <span class="op">=</span> <span class="va">my_spec</span>, fast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## and view the output</span></span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">outfile</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## ---</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co">## Example 2</span></span>
<span class="r-in">  <span class="co">## without a playlist, make a simple clip from a known segment of video</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceuntangled/editry" class="external-link">editry</a></span><span class="op">)</span></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ovdata</span><span class="op">)</span> <span class="co">## install via remotes::install_github("openvolley/ovdata") if needed</span></span>
<span class="r-in">  <span class="va">my_video</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ovdata/man/ovdata_example_video.html" class="external-link">ovdata_example_video</a></span><span class="op">(</span><span class="st">"190301_kats_beds"</span><span class="op">)</span> <span class="co">## path to your video file</span></span>
<span class="r-in">  <span class="va">my_logo</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/openvolley/community/raw/master/docs/talks/common/ovlogo-blur.png"</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">clips</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">er_clip_video</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_video</span>, cut_from <span class="op">=</span> <span class="fl">1</span>, cut_to <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, <span class="co">## video segment</span></span>
<span class="r-in">                <span class="co">## add an outro banner with logo</span></span>
<span class="r-in">                <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">er_clip</a></span><span class="op">(</span>duration <span class="op">=</span> <span class="fl">1.5</span>, layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">er_layer_fill_color</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span class="r-in">                                                      <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">er_layer_image</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_logo</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">                <span class="co">##  and blank finishing screen</span></span>
<span class="r-in">                <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">er_clip_pause</a></span><span class="op">(</span>duration <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".mp4"</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">my_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">er_spec</a></span><span class="op">(</span>clips <span class="op">=</span> <span class="va">clips</span>, out_path <span class="op">=</span> <span class="va">outfile</span>, allow_remote_requests <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_exec_wait.html" class="external-link">er_exec_wait</a></span><span class="op">(</span>spec <span class="op">=</span> <span class="va">my_spec</span>, fast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">outfile</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ben Raymond, Adrien Ickowicz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

