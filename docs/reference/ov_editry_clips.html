<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert playlist to editry clips — ov_editry_clips • ovideo</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Raleway-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Patua_One-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert playlist to editry clips — ov_editry_clips"><meta name="description" content="Note that in order to use ov_editry_clips, the editry package must be installed. Install it with: remotes::install_github('scienceuntangled/editry') or install.packages('editry', repos = c('https://openvolley.r-universe.dev', 'https://cloud.r-project.org')). The editry package also requires editly (the underlying node JS package: see editry::er_install_editly())."><meta property="og:description" content="Note that in order to use ov_editry_clips, the editry package must be installed. Install it with: remotes::install_github('scienceuntangled/editry') or install.packages('editry', repos = c('https://openvolley.r-universe.dev', 'https://cloud.r-project.org')). The editry package also requires editly (the underlying node JS package: see editry::er_install_editly())."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ovideo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openvolley/ovideo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert playlist to editry clips</h1>
      <small class="dont-index">Source: <a href="https://github.com/openvolley/ovideo/blob/HEAD/R/editry.R" class="external-link"><code>R/editry.R</code></a></small>
      <div class="d-none name"><code>ov_editry_clips.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Note that in order to use <code>ov_editry_clips</code>, the <code>editry</code> package must be installed. Install it with: <code>remotes::install_github('scienceuntangled/editry')</code> or <code>install.packages('editry', repos = c('https://openvolley.r-universe.dev', 'https://cloud.r-project.org'))</code>. The <code>editry</code> package also requires <code>editly</code> (the underlying node JS package: see <code><a href="https://rdrr.io/pkg/editry/man/er_install_editly.html" class="external-link">editry::er_install_editly()</a></code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ov_editry_clips</span><span class="op">(</span></span>
<span>  <span class="va">playlist</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">label_col</span>,</span>
<span>  pause <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seamless <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  title_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  title2_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  pause_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  label_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-playlist">playlist<a class="anchor" aria-label="anchor" href="#arg-playlist"></a></dt>
<dd><p>data.frame: a playlist as returned by <code>ov_video_playlist</code>. Note that only local video sources are supported</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>string: the title text (first slide). Use <code>NULL</code> to skip this slide</p></dd>


<dt id="arg-title-">title2<a class="anchor" aria-label="anchor" href="#arg-title-"></a></dt>
<dd><p>string: the second title text (on the second slide). Use <code>NULL</code> to skip this slide</p></dd>


<dt id="arg-label-col">label_col<a class="anchor" aria-label="anchor" href="#arg-label-col"></a></dt>
<dd><p>string: the name of the column in <code>playlist</code> to use for a label on each clip (created with <code><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">editry::er_layer_news_title()</a></code>). Common label choices are player names, scores, or descriptions of the play being shown in the clip</p></dd>


<dt id="arg-pause">pause<a class="anchor" aria-label="anchor" href="#arg-pause"></a></dt>
<dd><p>logical: if <code>TRUE</code>, insert an <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_pause()</a></code> clip at the end of the sequence</p></dd>


<dt id="arg-seamless">seamless<a class="anchor" aria-label="anchor" href="#arg-seamless"></a></dt>
<dd><p>logical: if <code>TRUE</code>, combine overlapping/adjacent clips. Note that if a <code>label_col</code> has been specified, the label from the first clip will be used for the whole of the combined clip (so it may no longer make sense, for example if the label is the player name)</p></dd>


<dt id="arg-title-args">title_args<a class="anchor" aria-label="anchor" href="#arg-title-args"></a></dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_title_background()</a></code> when creating the title slide</p></dd>


<dt id="arg-title-args">title2_args<a class="anchor" aria-label="anchor" href="#arg-title-args"></a></dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_title2()</a></code> when creating the title2 slide</p></dd>


<dt id="arg-pause-args">pause_args<a class="anchor" aria-label="anchor" href="#arg-pause-args"></a></dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">editry::er_clip_pause()</a></code> when creating the final slide</p></dd>


<dt id="arg-label-args">label_args<a class="anchor" aria-label="anchor" href="#arg-label-args"></a></dt>
<dd><p>list: arguments to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">editry::er_layer_news_title()</a></code>, used if <code>label_col</code> is provided</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of <code><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">editry::er_clip()</a></code> objects, suitable to pass to <code><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">editry::er_spec()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">editry::er_layer_news_title()</a></code>, <code><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">editry::er_layer()</a></code>, <code><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">editry::er_spec()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co">## Example 1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Step 1: create our playlist</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## use data from the ovdata package</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ovdata.openvolley.org" class="external-link">ovdata</a></span><span class="op">)</span> <span class="co">## install via remotes::install_github("openvolley/ovdata") if needed</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ovdata.openvolley.org/reference/ovdata_example.html" class="external-link">ovdata_example</a></span><span class="op">(</span><span class="st">"190301_kats_beds-clip"</span>, as <span class="op">=</span> <span class="st">"parsed"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## make sure its video element points to our local copy of the corresponding video clip</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="dv_meta_video.html">dv_meta_video</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ovdata.openvolley.org/reference/ovdata_example_video.html" class="external-link">ovdata_example_video</a></span><span class="op">(</span><span class="st">"190301_kats_beds"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## extract the plays</span></span></span>
<span class="r-in"><span>  <span class="va">px</span> <span class="op">&lt;-</span> <span class="fu">datavolley</span><span class="fu">::</span><span class="fu"><a href="https://datavolley.openvolley.org/reference/plays.html" class="external-link">plays</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co">## use just the attack rows</span></span></span>
<span class="r-in"><span>  <span class="va">px</span> <span class="op">&lt;-</span> <span class="va">px</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">px</span><span class="op">$</span><span class="va">skill</span> <span class="op">==</span> <span class="st">"Attack"</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## make a new column with player name and attack type</span></span></span>
<span class="r-in"><span>  <span class="va">px</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">px</span><span class="op">$</span><span class="va">player_name</span>, <span class="va">px</span><span class="op">$</span><span class="va">attack_code</span>, <span class="st">"attack"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## make the playlist with the new label column included</span></span></span>
<span class="r-in"><span>  <span class="va">tm</span> <span class="op">&lt;-</span> <span class="fu"><a href="ov_video_timing.html">ov_video_timing</a></span><span class="op">(</span>Attack <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="co">## tighter than normal timing</span></span></span>
<span class="r-in"><span>  <span class="va">ply</span> <span class="op">&lt;-</span> <span class="fu"><a href="ov_video_playlist.html">ov_video_playlist</a></span><span class="op">(</span><span class="va">px</span>, <span class="va">x</span><span class="op">$</span><span class="va">meta</span>, extra_cols <span class="op">=</span> <span class="st">"label"</span>, timing <span class="op">=</span> <span class="va">tm</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Step 2: convert to editly clip objects and compile to mp4</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceuntangled/editry" class="external-link">editry</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co">## create the clips, one for each row of the playlist</span></span></span>
<span class="r-in"><span>  <span class="va">clips</span> <span class="op">&lt;-</span> <span class="fu">ov_editry_clips</span><span class="op">(</span><span class="va">ply</span>, title <span class="op">=</span> <span class="st">"GKS Katowice\nvs\nMKS Bedzin"</span>,</span></span>
<span class="r-in"><span>                                title2 <span class="op">=</span> <span class="st">"Attacks"</span>, label_col <span class="op">=</span> <span class="st">"label"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## compile to video</span></span></span>
<span class="r-in"><span>  <span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".mp4"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">my_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">er_spec</a></span><span class="op">(</span>out_path <span class="op">=</span> <span class="va">outfile</span>, clips <span class="op">=</span> <span class="va">clips</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_exec_wait.html" class="external-link">er_exec_wait</a></span><span class="op">(</span>spec <span class="op">=</span> <span class="va">my_spec</span>, fast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## and view the output</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## ---</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Example 2</span></span></span>
<span class="r-in"><span>  <span class="co">## without a playlist, make a simple clip from a known segment of video</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceuntangled/editry" class="external-link">editry</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ovdata.openvolley.org" class="external-link">ovdata</a></span><span class="op">)</span> <span class="co">## install via remotes::install_github("openvolley/ovdata") if needed</span></span></span>
<span class="r-in"><span>  <span class="va">my_video</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ovdata.openvolley.org/reference/ovdata_example_video.html" class="external-link">ovdata_example_video</a></span><span class="op">(</span><span class="st">"190301_kats_beds"</span><span class="op">)</span> <span class="co">## path to your video file</span></span></span>
<span class="r-in"><span>  <span class="va">my_logo</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/openvolley/community/raw/master/docs/talks/common/ovlogo-blur.png"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">clips</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">er_clip_video</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_video</span>, cut_from <span class="op">=</span> <span class="fl">1</span>, cut_to <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, <span class="co">## video segment</span></span></span>
<span class="r-in"><span>                <span class="co">## add an outro banner with logo</span></span></span>
<span class="r-in"><span>                <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer.html" class="external-link">er_clip</a></span><span class="op">(</span>duration <span class="op">=</span> <span class="fl">1.5</span>, layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">er_layer_fill_color</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                                      <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_layer_pause.html" class="external-link">er_layer_image</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_logo</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                <span class="co">##  and blank finishing screen</span></span></span>
<span class="r-in"><span>                <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_clip_pause.html" class="external-link">er_clip_pause</a></span><span class="op">(</span>duration <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".mp4"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">my_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_spec.html" class="external-link">er_spec</a></span><span class="op">(</span>clips <span class="op">=</span> <span class="va">clips</span>, out_path <span class="op">=</span> <span class="va">outfile</span>, allow_remote_requests <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/editry/man/er_exec_wait.html" class="external-link">er_exec_wait</a></span><span class="op">(</span>spec <span class="op">=</span> <span class="va">my_spec</span>, fast <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Raymond, Adrien Ickowicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

